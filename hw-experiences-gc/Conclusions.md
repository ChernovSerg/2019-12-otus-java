## Задача: провести эксперименты со сборщиками мусора и сделать выводы.

### Использование Serial GC
**Вывод:** при использовании GC Serial ощая длительность выполнения программы всегда приблизительно одинаковая **~30 сек**, а на сборку мусора уходит всего 3-6% процессорного времени.

При увеличении размера Heap происходит:
- время выполнения программы незначительно (пару секунд) снижается;
- уменьшается кол-во минорных сборок пропорционально увеличению размера Heap;
- исчезают мажорные сборки.

### Использование Parallel GC
**Выводы:** при использовании GC Parallel общая длительность выполнения программы заметно уменьшается при увеличении размера Heap. 
Приблизительно одинакового времени выполнения (37 сек) в сравнении с Serial GC удается добиться только при размере heap = 4Гб. При этом 20% процессороного времени уходит на сборку мусора.

При размерах heap 2 и 1 Гб длительность выполнения программы увеличивается почти пропорционально, а так же в 2-2.5 раза увеличивается использование процессорного времени на сборку мусора.

### Использование CMS GC
**Вывод:** при использовании GC CMS независимо от размера heap (1/2/4 Гб) всегда приблизительно одинаковыми остаются:
- общая длительность выполнения программы (140 сек);
- ~80% процессорного времени уходит на сборку мусора;
- кол-во минорных сборок.

Замечено, что при увеличении heap уменьшается кол-во мажорных сборок.

### Использование G1 GC
**Выводы:** при использовании GC G1 общая длительность выполнения программы незначительно уменьшается при увеличении размера heap, но все равно составляет от 2,5 до 3 мин. При этом всегда ~60% процессорного времени уходит на сборку мусора.

### Общий вывод: 
1. Сравнительный анализ применения разных GC показал, что *лучше всего использовать либо Serial GC при размере heap = 1,2,4 Гб, либо Parallel при размере heap = 4 Гб.*
2. Хуже всего по времени выполнения программы справился G1 GC.
3. OutOfMemoryError добился на режиме:
 -Xms1024m
 -Xmx1024m
 -XX:+UseConcMarkSweepGC
 -XX:MaxGCPauseMillis=2
при этом в коде создавал HashSet<Integer> из 25 млн элементов и заполнял её.
Ошибка возникла на 245 секунде:
 
[245.930s][info][gc] GC(662) Pause Full (Allocation Failure) 990M->990M(990M) 2543.405ms
 at ru.otus.chernovsa.gc.ExpGc.run(ExpGc.java:36)
 at ru.otus.chernovsa.gc.GcDemo.main(GcDemo.java:72)
Exception in thread "RMI TCP Connection(idle)" java.lang.OutOfMemoryError: Java heap space

Детальные результаты эксперимента с цифрами можно увидеть в файле "Вывод по GC.xlsx", который находится в корне модуля. 
